<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Utkarsh Learning Challenge</title>
  <link rel="stylesheet" href="style.css">
  <!-- Firebase SDK -->
  <!-- Firebase (Compat Version - mobile safe) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>

  <!-- Font Awesome (icons ke liye) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1672290772193330"
     crossorigin="anonymous"></script>
</head>

<body>
  <header class="header">
    <div class="logo">
      <a href="index.html">
        <img src="Logo.png" alt="Website Logo" class="logo-img">
      </a>
    </div>
    <div class="header-right">

      <!-- Default PNG icon -->
      <img src="user.png" alt="User Icon" id="userIconImg" class="user-icon-img">

      <!-- Letter Avatar (hidden initially) -->
      <div class="user-icon hidden" id="userAvatar">U</div>
    </div>
    <!-- Mobile-only Fire Roadmap Button -->
    <a href="#" class="fire-btn mobile-roadmap roadmap-trigger protected no-lock-icon" aria-label="Roadmap AI/ML">
      <svg viewBox="0 0 500 80" class="fire-svg">
        <defs>
          <linearGradient id="fireGradient" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="#ff9a00" />
            <stop offset="25%" stop-color="#ff0000" />
            <stop offset="50%" stop-color="#ff6a00" />
            <stop offset="75%" stop-color="#ff3c00" />
            <stop offset="100%" stop-color="#ff0000" />
          </linearGradient>
        </defs>
        <text x="49%" y="50%" dy=".1em" text-anchor="middle" dominant-baseline="middle" fill="url(#fireGradient)"
          style="font-family: inherit;">
          ROADMAP AI/ML
        </text>
      </svg>
    </a>






    <!-- Hamburger Icon for Mobile -->
    <div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>

    <nav class="nav-links">
      <ul>
        <li><a href="index.html">HOME</a></li>
        <li><a href="#" class="protected roadmap-trigger">ROADMAP</a></li>
        <li><a href="map.html" class="special protected">WORLDWIDE JOBS</a></li>
        <li><a href="#" class="protected" onclick="loadPage('projects.html')">PROJECTS</a></li>
        <li><a href="tools.html" class="protected">ALL TOOLS</a></li>
        <li><a href="#lwl-contact">CONTACT US</a></li>
        <li><a href="#lwl-about">ABOUT US </a></li>
      </ul>
    </nav>
    <!-- Social Icons -->
    <div class="social-icons">
      <!-- 2-Year Challenge button (only mobile) -->


      <a href="https://www.linkedin.com/in/utkarshverma89/" target="_blank">
        <img src="linkedin.png" alt="LinkedIn">
      </a>
      <a href="https://github.com/utkar89" target="_blank">
        <img src="github.png" alt="GitHub">
      </a>
      <a href="https://youtube.com/@lifewithlogic89?si=Vb7KGYP-T8dBZ84Chttps://youtube.com/@lifewithlogic89?si=Vb7KGYP-T8dBZ84C"
        target="_blank">
        <img src="youtube.png" alt="YouTube">
      </a>
      <a href="https://www.instagram.com/lifewith_logic?igsh=MTA3emR4eWJoOWVtMw%3D%3D&utm_source=qr" target="_blank">
        <img src="instagram.png" alt="Instagram">
      </a>
    </div>

  </header>
  <div id="dynamic-content"></div>

  <!-- Mobile-only Social Icons -->
  <div class="mobile-social-icons">
    <a href="https://www.linkedin.com/in/utkarshverma89/" target="_blank">
      <img src="linkedin.png" alt="LinkedIn">
    </a>
    <a href="https://github.com/utkar89" target="_blank">
      <img src="github.png" alt="GitHub">
    </a>
    <a href="https://youtube.com/@lifewithlogic89" target="_blank">
      <img src="youtube.png" alt="YouTube">
    </a>
    <a href="https://www.instagram.com/lifewith_logic" target="_blank">
      <img src="instagram.png" alt="Instagram">
    </a>
  </div>
  <div id="home-section">


    <section class="hero-utkarsh">
      <div class="hero-content-utkarsh">
        <!-- Glitch Typing Name -->
        <h1 id="glitchText-utkarsh"></h1>

        <!-- Typing Effect Courses -->
        <h2><span id="typing-utkarsh"></span><span style="color:#00ffcc">|</span></h2>

        <!-- Buttons Row -->
        <div class="buttons-utkarsh">
          <a href="2year.html" class="protected">WORLDWIDE JOBS</a>
          <a href="daily.html" class="protected">Daily Notes</a>
          <a href="projects.html" class="protected">Projects</a>
          <a href="youtube.html" class="protected">YouTube Videos</a>
        </div>



        <!-- Social Icons Row -->
        <div class="social-icons-utkarsh">
          <a href="#"><i class="fab fa-github"></i></a>
          <a href="#"><i class="fab fa-linkedin"></i></a>
          <a href="#"><i class="fab fa-youtube"></i></a>
          <a href="#"><i class="fas fa-user"></i></a>
        </div>
      </div>

    </section>
    <section id="lwl-about" class="lwl-about-card">

  <h2 class="lwl-about-title">ABOUT US</h2>

  <p class="lwl-about-text">
    <strong>Life With Logic</strong> is a secure, login-based learning and opportunity platform
    designed to help users grow through real-world projects, global job opportunities,
    and logic-driven tools.
  </p>

  <p class="lwl-about-text">
    Our platform is built with user privacy and security as a top priority.
    All user accounts and data are managed securely using Firebase authentication
    and protected systems.
  </p>

  <h3 class="lwl-about-subtitle">What Users Can Do</h3>
  <ul class="lwl-about-list">
    <li>Access worldwide job and internship listings (remote & full-time)</li>
    <li>Search and apply directly for jobs and internships</li>
    <li>Create and showcase personal projects after login</li>
    <li>Share project details, images, and live deployed links</li>
    <li>Explore opportunities through interactive tools like global job maps</li>
  </ul>

  <p class="lwl-about-text">
    Life With Logic is continuously evolving. New features and improvements
    are regularly added to help users learn better, find opportunities faster,
    and build strong professional profiles.
  </p>

</section>

<!-- ================= LIFEWITHLOGIC CONTACT SECTION ================= -->
<section id="lwl-contact" class="lwl-contact-card">

  <div class="lwl-contact-wrapper">

    <div class="lwl-contact-content">
      <h2 class="lwl-contact-title">CONTACT US</h2>

      <p class="lwl-contact-text">
        If you have questions, feedback, feature suggestions,
        or need support regarding your account, projects, or job listings,
        feel free to contact us.
      </p>

      <p class="lwl-contact-text">
        Click the button below to email us directly.
        Your mail app will open with our email address already filled.<hr>
        Email - Utkarshv895703@gmail.com
      </p>

      <a
        href="utkarshv895703@gmail.com?subject=Life%20With%20Logic%20Support"
        class="lwl-contact-btn"
      >
        üì© Contact Support
      </a>
    </div>

    <div class="lwl-contact-image">
      <img
        src="https://cdn-icons-png.flaticon.com/512/726/726623.png"
        alt="Contact Life With Logic"
      >
    </div>

  </div>

</section>


<!-- ================= LIFEWITHLOGIC PRIVACY POLICY SECTION ================= -->
<section id="lwl-privacy" class="lwl-privacy-card">

  <h2 class="lwl-privacy-title">PRIVACY POLICY</h2>

  <p class="lwl-privacy-text">
    At <strong>Life With Logic</strong>, user privacy and data security
    are extremely important to us.
    This Privacy Policy explains how information is handled on our platform.
  </p>

  <h3 class="lwl-privacy-subtitle">User Accounts & Authentication</h3>
  <p class="lwl-privacy-text">
    Our platform uses secure login systems powered by Firebase.
    Users must log in to access core features such as projects,
    job listings, and posting content.
  </p>

  <h3 class="lwl-privacy-subtitle">Information We Collect</h3>
  <p class="lwl-privacy-text">
    We collect only the information necessary to provide our services,
    such as account authentication and user-generated content.
    We do not sell or misuse personal data.
  </p>

  <h3 class="lwl-privacy-subtitle">Projects & Public Content</h3>
  <p class="lwl-privacy-text">
    Projects created by users may be visible to other users on the platform.
    Users are responsible for the information they choose to share publicly.
  </p>

  <h3 class="lwl-privacy-subtitle">Cookies & Ads</h3>
  <p class="lwl-privacy-text">
    Life With Logic may use cookies and third-party services such as Google AdSense
    to display relevant advertisements and improve user experience.
  </p>

  <h3 class="lwl-privacy-subtitle">Future Updates</h3>
  <p class="lwl-privacy-text">
    This Privacy Policy may be updated as new features are added.
    Any changes will be reflected on this page.
  </p>

</section>


  </div>

  <!-- ‚úÖ sahi structure -->
  <div class="user-overlay" id="userOverlay">
    <!-- Avatar Area -->
    <div class="overlay-avatar-box">
      <img src="user.png" alt="User Icon" id="overlayIconImg" class="user-icon-img">
      <div class="user-icon hidden" id="overlayAvatar">U</div>
    </div>

    <div class="user-name" id="overlayName">Hi USER</div>

    <!-- Tabs -->
    <div class="auth-tabs" id="authTabs">
      <button id="loginTab" class="active">Login</button>
      <button id="signupTab">Sign Up</button>
    </div>

    <!-- Login Form -->
    <form id="loginForm">
      <input type="email" id="loginEmail" placeholder="Email" required />
      <input type="password" id="loginPassword" placeholder="Password" required />
      <button type="submit">Login</button>
      <small><a href="#" id="forgotPassword">Forgot Password?</a></small>
    </form>

    <!-- Signup Form -->
    <form id="signupForm" class="hidden">
      <input type="text" id="signupName" placeholder="Full Name" required />
      <input type="email" id="signupEmail" placeholder="Email" required />
      <input type="password" id="signupPassword" placeholder="Password" required />
      <input type="password" id="signupConfirm" placeholder="Confirm Password" required />
      <button type="submit">Sign Up</button>
    </form>

    <button id="logoutBtn" class="logout-btn">Logout</button>

    <!-- ‚úÖ Overlay options menu ab andar hai -->
    <div class="overlay-menu">
      <ul>


        <a class="menu-item protected overlay-roadmap" href="#">
          <i class="fa fa-bolt"></i>
          <div>
            <div class="menu-text">ROADMAP</div>
            <div class="menu-sub">Achieve goal</div>
          </div>
        </a>


        <a class="menu-item protected" href="#lwl-contact">
          <i class="fa fa-circle-notch spinning"></i>
          <div>
            <div class="menu-text">Contact Us</div>
            <div class="menu-sub">Email</div>
          </div>
        </a>


        <a class="menu-item protected" href="daily.html" target="_blank" rel="noopener">
          <i class="fa fa-sticky-note"></i>
          <div>
            <div class="menu-text">Daily Notes</div>
          </div>
        </a>

        <a class="menu-item protected" href="https://youtube.com/yourchannel" target="_blank" rel="noopener">
          <i class="fa fa-youtube"></i>
          <div>
            <div class="menu-text">Daily YouTube Videos</div>
          </div>
        </a>

        <a class="menu-item protected" href="map.html" target="_blank" rel="noopener">
          <i class="fa fa-calendar-check"></i>
          <div>
            <div class="menu-text">WORLDWIDE JOBS</div>
          </div>
        </a>
      </ul>

    </div>


    <!-- ‚úÖ Social links bhi overlay ke andar -->
    <div class="overlay-social">
      <a href="https://www.linkedin.com/in/yourprofile" target="_blank" rel="noopener"><i
          class="fab fa-linkedin"></i><span>LinkedIn</span></a>
      <a href="https://github.com/yourusername" target="_blank" rel="noopener"><i
          class="fab fa-github"></i><span>GitHub</span></a>
      <a href="https://youtube.com/yourchannel" target="_blank" rel="noopener"><i
          class="fab fa-youtube"></i><span>YouTube</span></a>
      <a href="https://instagram.com/yourhandle" target="_blank" rel="noopener"><i
          class="fab fa-instagram"></i><span>Instagram</span></a>
    </div>
  </div> <!-- ‚úÖ yaha overlay finally band ho rahi hai -->

  <!-- ================= LIFEWITHLOGIC ABOUT SECTION ================= -->




  <!-- Backdrop overlay ke bahar hi rahe -->
  <div id="backdrop" class="overlay-backdrop"></div>
  <!-- Footer (namespaced to avoid class clashes) -->
  <footer class="ps-footer">
    <div class="footer-container">
      <div class="footer-col">
        <h4>Main</h4>
        <ul>
          <li><a href="#">üè† Home</a></li>
          <li><a href="#lwl-about">‚ÑπÔ∏è About us</a></li>
          <li><a href="disclaimer.html">‚öñÔ∏è Disclaimer</a></li>
          <li><a href="#lwl-contact">‚úâÔ∏è Contact us</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Learning</h4>
        <ul>
          <li><a href="map.html">üìÖWORLDWIDE JOBS</a></li>
          <li><a href="virtual-roadmap.html">üß† AI/ML Roadmap</a></li>
          <li><a href="#">üìñ Notes</a></li>
          <li><a href="#">‚ñ∂Ô∏è YouTube Videos</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Support</h4>
        <ul>
          <li><a href="help.html">‚ùì Help</a></li>
          <li><a href="#lwl-privacy">üìú Privacy Policy</a></li>
          <li><a href="terms.html">‚úÖ Terms & Conditions</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Follow Us</h4>
        <div class="footer-social-icons">
          <a href="#"><img src="youtube.png" alt="YouTube"></a>
          <a href="#"><img src="Instagram.png" alt="Instagram"></a>
          <a href="#"><img src="github.png" alt="GitHub"></a>
          <a href="#"><img src="linkedin.png" alt="Linkedin"></a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      ¬© 2025 LifeWithLogic | Made with ‚ù§Ô∏è for Utkarsh verma
    </div>
  </footer>





  <script>
    // ==================
    // Menu toggle (mobile)
    // ==================
    function toggleMenu() {
      const nav = document.querySelector('.nav-links');
      nav.classList.toggle('active');
    }




    // ==================
    // Glitch typing effect
    // ==================
    function getRandomColorUtkarsh() {
      const colors = ["#ff4757", "#1e90ff", "#2ed573", "#ffa502", "#eccc68", "#00cec9", "#fd79a8"];
      return colors[Math.floor(Math.random() * colors.length)];
    }

    const textUtkarsh = "Hi, I'm Utkarsh";
    const containerUtkarsh = document.getElementById("glitchText-utkarsh");
    let nameIndexUtkarsh = 0;

    function typeGlitchUtkarsh() {
      if (nameIndexUtkarsh < textUtkarsh.length) {
        const span = document.createElement("span");
        span.textContent = textUtkarsh[nameIndexUtkarsh];
        span.style.color = getRandomColorUtkarsh();
        span.classList.add("glitch-letter-utkarsh");
        containerUtkarsh.appendChild(span);
        nameIndexUtkarsh++;
        setTimeout(typeGlitchUtkarsh, 200);
      }
    }
    typeGlitchUtkarsh();

    // ==================
    // Typing effect
    // ==================
    const textsUtkarsh = ["Roadmap Programming Fundamentals (Python)", "Roadmap Math for ML", "Roadmap Data Handling & Preprocessing", " Roadmap Core Machine Learning", "Roadmap Deep Learning (Neural Networks)", "Roadmap Advanced AI/ML Topics", "Roadmap Deployment & MLOps", "Roadmap System Design for ML", "Roadmap Generative AI & LLMs", "Roadmap Research & Advanced"];
    let countUtkarsh = 0, indexUtkarsh = 0;

    (function typeUtkarsh() {
      if (countUtkarsh === textsUtkarsh.length) countUtkarsh = 0;
      const currentTextUtkarsh = textsUtkarsh[countUtkarsh];
      const letterUtkarsh = currentTextUtkarsh.slice(0, ++indexUtkarsh);
      document.getElementById("typing-utkarsh").innerHTML = `<span>${letterUtkarsh}</span>`;
      if (letterUtkarsh.length === currentTextUtkarsh.length) {
        countUtkarsh++; indexUtkarsh = 0; setTimeout(typeUtkarsh, 1200);
      } else setTimeout(typeUtkarsh, 100);
    })();

    // ==================
    // Firebase setup
    // ==================
    const firebaseConfig = {
      apiKey: "AIzaSyDgCULYRXS8Ef2sMQQGKhMbQ9kRrY3mD3A",
      authDomain: "roadmap-8e7c4.firebaseapp.com",
      projectId: "roadmap-8e7c4",
      storageBucket: "roadmap-8e7c4.firebasestorage.app",
      messagingSenderId: "823395412800",
      appId: "1:823395412800:web:3b92bd90d62cd9a942e8a5",
      measurementId: "G-MTQLRR2EDN"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // ==================
    // Elements
    // ==================
    const userOverlay = document.getElementById("userOverlay");
    const backdrop = document.getElementById("backdrop");
    const loginForm = document.getElementById("loginForm");
    const signupForm = document.getElementById("signupForm");
    const logoutBtn = document.getElementById("logoutBtn");
    const loginTab = document.getElementById("loginTab");
    const signupTab = document.getElementById("signupTab");
    const authTabs = document.getElementById("authTabs");
    const overlayName = document.getElementById("overlayName");
    const darkToggle = document.getElementById("darkToggle");

    // ==================
    // Dark mode
    // ==================

    // ==================
    // Overlay open/close
    // ==================
    function openOverlay(e) {
      e.preventDefault();
      e.stopPropagation();
      userOverlay.classList.add("active");
      backdrop.classList.add("active");
    }
    function closeOverlay() {
      userOverlay.classList.remove("active");
      backdrop.classList.remove("active");
    }

    // üü¢ Bind events for user icon (desktop + mobile safe)
    ["click", "touchend", "pointerdown"].forEach(evt => {
      document.getElementById("userIconImg").addEventListener(evt, openOverlay);
      document.getElementById("userAvatar").addEventListener(evt, openOverlay);
    });

    // Backdrop close
    backdrop.addEventListener("click", closeOverlay);

    // ==================
    // Tabs
    // ==================
    loginTab.addEventListener("click", () => {
      loginTab.classList.add("active"); signupTab.classList.remove("active");
      loginForm.classList.remove("hidden"); signupForm.classList.add("hidden");
    });
    signupTab.addEventListener("click", () => {
      signupTab.classList.add("active"); loginTab.classList.remove("active");
      signupForm.classList.remove("hidden"); loginForm.classList.add("hidden");
    });

    // ==================
    // Auth
    // ==================
    loginForm.addEventListener("submit", e => {
      e.preventDefault();
      const email = document.getElementById("loginEmail").value;
      const password = document.getElementById("loginPassword").value;
      auth.signInWithEmailAndPassword(email, password)
        .then(() => loginForm.reset())
        .catch(err => alert(err.message));
    });

    signupForm.addEventListener("submit", e => {
      e.preventDefault();
      const name = document.getElementById("signupName").value;
      const email = document.getElementById("signupEmail").value;
      const password = document.getElementById("signupPassword").value;
      const confirm = document.getElementById("signupConfirm").value;
      if (password !== confirm) return alert("Passwords do not match!");
      auth.createUserWithEmailAndPassword(email, password)
        .then(cred => cred.user.updateProfile({ displayName: name }))
        .then(() => signupForm.reset())
        .catch(err => alert(err.message));
    });

    logoutBtn.addEventListener("click", () => auth.signOut());

    // ==================
    // State change
    // ==================
    auth.onAuthStateChanged(user => {
      if (user) {
        const name = user.displayName || user.email;
        const firstLetter = name.charAt(0).toUpperCase();

        // Avatar update
        document.getElementById("userIconImg").classList.add("hidden");
        const avatar = document.getElementById("userAvatar");
        avatar.classList.remove("hidden");
        avatar.textContent = firstLetter;

        document.getElementById("overlayIconImg").classList.add("hidden");
        const overlayAvatar = document.getElementById("overlayAvatar");
        overlayAvatar.classList.remove("hidden");
        overlayAvatar.textContent = firstLetter;

        // Name update
        overlayName.textContent = "Hi " + name.toUpperCase();

        // ‚úÖ Hide login/signup forms
        loginForm.classList.add("hidden");
        signupForm.classList.add("hidden");
        authTabs.classList.add("hidden");

        // ‚úÖ Show logout button
        logoutBtn.classList.add("show");

        // Unlock protected links
        document.querySelectorAll(".protected").forEach(el => el.classList.remove("locked"));
      } else {
        // Avatar reset
        document.getElementById("userIconImg").classList.remove("hidden");
        document.getElementById("userAvatar").classList.add("hidden");
        document.getElementById("overlayIconImg").classList.remove("hidden");
        document.getElementById("overlayAvatar").classList.add("hidden");

        // Name reset
        overlayName.textContent = "Hi USER";

        // ‚úÖ Show login form by default
        loginForm.classList.remove("hidden");
        signupForm.classList.add("hidden");
        authTabs.classList.remove("hidden");

        // ‚úÖ Hide logout button
        logoutBtn.classList.remove("show");

        // Tabs reset
        loginTab.classList.add("active");
        signupTab.classList.remove("active");

        // Lock protected links
        document.querySelectorAll(".protected").forEach(el => el.classList.add("locked"));
      }
    });


    // ==================
    // Protected links
    // ==================
    document.querySelectorAll(".protected").forEach(link => {
      link.addEventListener("click", e => {
        // ROADMAP AI/ML button (.roadmap-trigger) ke liye skip kar do
        if (link.classList.contains("roadmap-trigger")) return;

        if (!auth.currentUser) {
          e.preventDefault();
          alert("‚ö†Ô∏è Please login first to access this page!");
          openOverlay(e);
        }
      });
    });

    // Roadmap modal open/close
    // ==================
    // Roadmap modal open/close (safe + DOM loaded)
    // ==================

    document.addEventListener("DOMContentLoaded", () => {
      // Pehle sirf ek button tha
      // const roadmapBtn = document.querySelector('.roadmap-trigger'); 

      // ‚úÖ Ab sabhi roadmap-trigger ko pakdo
      const roadmapBtns = document.querySelectorAll('.roadmap-trigger');
      const overlayRoadmapBtn = document.querySelector('.overlay-roadmap');
      const roadmapModal = document.getElementById('roadmapModal');
      const roadmapBackdrop = document.getElementById('roadmapBackdrop');
      const roadmapClose = document.getElementById('roadmapClose');

      function openRoadmapModal(e) {
        if (!auth.currentUser) {
          e.preventDefault();
          alert("‚ö†Ô∏è Please login first to access this page!");
          openOverlay(e);
          return;
        }
        e.preventDefault();
        roadmapModal.classList.add('active');
      }

      // üîπ sabhi roadmap-trigger buttons ke liye listener lagao
      roadmapBtns.forEach(btn => {
        btn.addEventListener('click', openRoadmapModal);
      });

      if (overlayRoadmapBtn && roadmapModal) {
        overlayRoadmapBtn.addEventListener('click', openRoadmapModal);
      }

      if (roadmapBackdrop && roadmapModal) {
        roadmapBackdrop.addEventListener('click', () => roadmapModal.classList.remove('active'));
      }

      if (roadmapClose && roadmapModal) {
        roadmapClose.addEventListener('click', () => roadmapModal.classList.remove('active'));
      }
    });
    // Popup open/close
    function openPopup() {
      if (!auth.currentUser) {
        alert("Please login first");
        return;
      }
      document.getElementById("popup-overlay").style.display = "flex";
    }

    function closePopup() {
      document.getElementById("popup-overlay").style.display = "none";
    }

    async function loadProjects() {
      const user = auth.currentUser;
      if (!user) return;

      const { data } = await supabaseClient
        .from("projects")
        .select("*")
        .order("id", { ascending: false });

      let html = "";

      data.forEach(p => {
        html += `
<div class="project-card">

<div class="project-header">
    <div class="avatar">${p.user_name ? p.user_name[0].toUpperCase() : "U"}</div>
    <div class="user-info">
        <h4>${p.user_name}</h4>
        <span class="date">${new Date(p.created_at).toLocaleDateString()}</span>
    </div>
</div>

<img class="project-image" src="${p.image_url}">

<h3 class="project-title">${p.name}</h3>

<p class="project-desc">${p.description}</p>

<a href="${p.project_link}" target="_blank" class="visit-btn">Visit Project ‚Üí</a>

${p.user_id === user.uid ? `
<div class="project-menu-container">
    <div class="project-menu-btn" onclick="toggleProjectMenu(${p.id}, event)">‚ãÆ</div>

    <div id="menu-${p.id}" class="project-menu-popup">
        <div onclick="editProject(${p.id})">‚úè Edit</div>
        <div onclick="deleteProject(${p.id})">üóë Delete</div>
    </div>
</div>
` : ""}
</div>`;
      });

      document.getElementById("projectList").innerHTML = html;
    }






  </script>
  <!-- Roadmap Options Modal -->
  <div id="roadmapModal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-backdrop" id="roadmapBackdrop"></div>
    <div class="modal-panel" role="document">
      <button class="modal-close" id="roadmapClose" aria-label="Close">‚úï</button>
      <h3>Choose Roadmap</h3>
      <p class="modal-sub">Select one option</p>

      <div class="modal-options">
        <!-- Option 1 -->
        <a href="virtual-roadmap.html" class="modal-option">
          <div class="opt-left">üîÆ</div>
          <div class="opt-body">
            <strong>Virtual Roadmap</strong>
            <span class="opt-desc">Interactive experience</span>
          </div>
          <div class="opt-right">‚Üí</div>
        </a>

        <!-- Option 2 -->
        <a href="roadmap.html" class="modal-option">
          <div class="opt-left">üìÑ</div>
          <div class="opt-body">
            <strong>Roadmap</strong>
            <span class="opt-desc">Standard static page</span>
          </div>
          <div class="opt-right">‚Üí</div>
        </a>

        <!-- ‚úÖ New Option 3 -->
        <a href="2year.html" class="modal-option">
          <div class="opt-left">‚è≥</div>
          <div class="opt-body">
            <strong>2-Year Challenge</strong>
            <span class="opt-desc">Step by step journey</span>
          </div>
          <div class="opt-right">‚Üí</div>
        </a>
      </div>

    </div>
  </div>
  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script>
    const supabaseClient = supabase.createClient(
      "https://ahnpmtpcxvwfhhxkclgb.supabase.co",   // ‚úÖ tumhara URL
      "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFobnBtdHBjeHZ3ZmhoeGtjbGdiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1NzQ5MDMsImV4cCI6MjA3OTE1MDkwM30.BuwdEr-jz91Ghf083Cw9oaUDFYvma1M5VNrDae3Jz2s"                 // ‚ùó tumhari anon key
    );
  </script>
  <script>
    /* Popup */
    const popupBg = document.getElementById("popupBg");
    const addBtn = document.getElementById("addBtn");

    addBtn.onclick = () => {
      const user = auth.currentUser;
      if (!user) return alert("Please login first!");
      popupBg.style.display = "flex";
    };
    document.getElementById("closePopup").onclick = () => {
      popupBg.style.display = "none";
    };

    /* Load Projects */
    auth.onAuthStateChanged(async user => {
      if (!user) return;

      const { data } = await supabaseClient
        .from("projects")
        .select("*")
        .order("id", { ascending: false });

      let html = "";

      data.forEach(p => {
        html += `
<div class="project-card">

<div class="project-header">
    <div class="avatar">${p.user_name ? p.user_name[0].toUpperCase() : "U"}</div>
    <div class="user-info">
        <h4>${p.user_name}</h4>
        <span class="date">${new Date(p.created_at).toLocaleDateString()}</span>
    </div>
</div>

<img class="project-image" src="${p.image_url}">

<h3 class="project-title">${p.name}</h3>

<p class="project-desc">${p.description}</p>

<a href="${p.project_link}" target="_blank" class="visit-btn">Visit Project ‚Üí</a>

${p.user_id === user.uid ? `
<div class="project-menu-container">
    <div class="project-menu-btn" onclick="toggleProjectMenu(${p.id}, event)">‚ãÆ</div>

    <div id="menu-${p.id}" class="project-menu-popup">
        <div onclick="editProject(${p.id})">‚úè Edit</div>
        <div onclick="deleteProject(${p.id})">üóë Delete</div>
    </div>
</div>

` : ""}
</div>`;
      });

      document.getElementById("projectList").innerHTML = html;
    });

    /* Add Project */
    document.getElementById("submitBtn").onclick = async () => {
      const user = auth.currentUser;
      if (!user) return alert("Login required!");

      let name = p_name.value;
      let desc = p_desc.value;
      let link = p_link.value;
      let file = p_image.files[0];

      if (!name || !desc || !link || !file) return alert("Fill all fields");

      let fileName = `${user.uid}-${Date.now()}-${file.name}`;

      const { data: up } = await supabaseClient
        .storage.from("project-images")
        .upload(`uploads/${fileName}`, file);

      const { data: publicUrl } = supabaseClient
        .storage.from("project-images")
        .getPublicUrl(`uploads/${fileName}`);

      await supabaseClient.from("projects").insert({
        name, description: desc, image_url: publicUrl.publicUrl,
        project_link: link, user_id: user.uid, user_name: user.displayName
      });

      alert("Project Added!");
      popupBg.style.display = "none";
      loadPage('projects.html');
    };

    /* Edit/Delete */
    function editProject(id) { window.location.href = "edit-project.html?id=" + id; }
    async function deleteProject(id) {
      if (confirm("Delete?")) {
        await supabaseClient.from("projects").delete().eq("id", id);
        loadPage('projects.html');
      }
    }

    /* 3-dot menu */
    function toggleProjectMenu(id, event) {
      event.stopPropagation();

      document.querySelectorAll(".project-menu-popup").forEach(m => {
        if (m.id !== `menu-${id}`) m.style.display = "none";
      });

      const menu = document.getElementById(`menu-${id}`);
      if (menu) {
        menu.style.display = menu.style.display === "block" ? "none" : "block";
      }
    }





  </script>
  <script>
    function loadPage(page) {

  const home = document.getElementById("home-section");
  if (home) home.style.display = "none";

  fetch(page)
    .then(res => res.text())
    .then(html => {
      let parser = new DOMParser();
      let doc = parser.parseFromString(html, "text/html");
      const dynamic = document.getElementById("dynamic-content");

      // ‚ùó Tools.html injection removed ‚Äî now only projects allowed
      dynamic.innerHTML = doc.body.innerHTML;

      setTimeout(() => {

        // ‚≠ê X CLOSE BUTTON
        const closeBtn = document.getElementById("closePopup");
        if (closeBtn) {
          closeBtn.onclick = () => {
            document.getElementById("popupBg").style.display = "none";
          };
        }

        // ‚≠ê + ADD BUTTON
        const addBtn = document.getElementById("addBtn");
        if (addBtn) {
          addBtn.onclick = () => {
            if (!auth.currentUser) return alert("Please login first!");
            document.getElementById("popupBg").style.display = "flex";
          };
        }

        // ‚≠ê ‚≠ê ‚≠ê SUBMIT BUTTON FIX
        const submitBtn = document.getElementById("submitBtn");
        if (submitBtn) {
          submitBtn.onclick = async () => {
            const user = auth.currentUser;
            if (!user) return alert("Login required!");

            let name = p_name.value;
            let desc = p_desc.value;
            let link = p_link.value;
            let file = p_image.files[0];

            if (!name || !desc || !link || !file)
              return alert("Fill all fields");

            let fileName = `${user.uid}-${Date.now()}-${file.name}`;

            const { data: up } = await supabaseClient
              .storage.from("project-images")
              .upload(`uploads/${fileName}`, file);

            const { data: publicUrl } = supabaseClient
              .storage.from("project-images")
              .getPublicUrl(`uploads/${fileName}`);

            await supabaseClient.from("projects").insert({
              name,
              description: desc,
              image_url: publicUrl.publicUrl,
              project_link: link,
              user_id: user.uid,
              user_name: user.displayName
            });

            alert("Project Added!");
            document.getElementById("popupBg").style.display = "none";
            loadPage("projects.html");
          };
        }

        // üî• Only this block should run after load ‚Äî PROJECTS ONLY
        if (page === "projects.html") {
          if (typeof loadProjects === "function") loadProjects();
          setTimeout(() => {
            if (document.querySelector("#swipeSlider")) {
              initSwipeSlider();
            }
          }, 500);
        }

      }, 200);
    });
}

// BELOW CODE SAME ‚Äî no change needed
document.addEventListener("click", e => {
  if (!e.target.closest(".project-menu-container")) {
    document.querySelectorAll(".project-menu-popup").forEach(m => m.style.display = "none");
  }
});

const mobileIcons = document.querySelector('.mobile-social-icons');
if (mobileIcons) mobileIcons.style.display = "none";

document.querySelectorAll(".nav-links a").forEach(link => {
  link.addEventListener("click", () => {
    const nav = document.querySelector(".nav-links");
    if (nav.classList.contains("active")) {
      nav.classList.remove("active");
    }
  });
});


  </script>
  <script>
    function initSwipeSlider() {
      const slides = document.querySelectorAll(".swipe-slide");
      let index = 0;

      function showSlide(n) {
        slides.forEach(s => s.classList.remove("active"));
        index = (n + slides.length) % slides.length;
        slides[index].classList.add("active");
      }

      // Auto slide every 2 seconds
      setInterval(() => {
        showSlide(index + 1);
      }, 2000);

      // Touch swipe controls
      let startX = 0;

      const slider = document.getElementById("swipeSlider");

      slider.addEventListener("touchstart", e => {
        startX = e.touches[0].clientX;
      });

      slider.addEventListener("touchend", e => {
        let endX = e.changedTouches[0].clientX;
        if (startX - endX > 50) showSlide(index + 1); // swipe left
        if (endX - startX > 50) showSlide(index - 1); // swipe right
      });
    }

    // When projects.html loads inside #dynamic-content
    document.addEventListener("DOMSubtreeModified", () => {
      if (document.querySelector("#swipeSlider")) {
        initSwipeSlider();
      }
    });



  
  </script>





  

</body>

</html>

